<div style="margin-left: 20px; margin-top: 20px; margin-right: 30px">
  <h3 style="font-weight: bold">เลือกสลาก</h3>
  <hr />
</div>
<div *ngIf="datalot">
  <p></p>
  <div class="card" style="margin: 20px; width: 90%">
    <div style="display: flex; flex-direction: column; padding: 13px">
      <div style="display: flex; flex-direction: row; align-items: center">
        <p style="margin-right: 15px">
          <img src="../../../assets/img/03.png" alt="Logo" height="30px" />
        </p>
        <p style="font-weight: bold; font-size: 20px">สลากกินแบ่งรัฐบาล</p>
      </div>
      <div style="display: flex; flex-direction: row; align-items: center">
        <p style="background-color: beige; font-size: 40px; padding: 5px 10px">
          {{ datalot.ticket_id }}
        </p>
        <div style="display: flex; flex-direction: column; margin-left: 15px">
          <p style="margin-bottom: 0">ชุดที่</p>
          <span style="font-weight: bold; font-size: 15px">{{
            datalot.set_no
          }}</span>
        </div>
        <div style="display: flex; flex-direction: column; margin-left: 15px">
          <p style="margin-bottom: 0">งวดที่</p>
          <span style="font-weight: bold; font-size: 15px">{{
            datalot.round_no
          }}</span>
        </div>
      </div>
      <div style="display: flex; justify-content: space-between">
        <span style="font-weight: 400">ร้านสลากกินดีอยู่ดี</span>
        <span style="font-weight: 400">ราคา {{ datalot.price }} บาท</span>
      </div>
    </div>
  </div>
  <div
    style="
      display: flex;
      justify-content: space-between;
      flex-direction: row;
      padding: 10px;
      margin-left: 20px;
    "
  >
    <div>
      <label>จำนวน : </label>
      <ng-container *ngIf="datalot.amount > 0; else noTickets">
        <select [(ngModel)]="selectedQuantity" style="margin-left: 10px">
          <option *ngFor="let amount of getNumberArray(datalot.amount)">
            {{ amount }}
          </option>
        </select>
      </ng-container>
      <ng-template #noTickets> สลากซื้อขายหมดแล้ว </ng-template>
    </div>

    <div style="margin-right: 20px">
      <p>จำนวนสินค้าทั้งหมด : {{ datalot.amount }} ใบ</p>
    </div>
  </div>
  <div
    style="
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    "
  >
    <!-- (click)="addOrder(datalot.ticket_id)" -->
    <ng-container *ngIf="datalot.amount > 0; else noTickets">
      <button
        style="width: 90%"
        class="btn btn-primary"
        (click)="
          addCart(datalot.lot_id, amount, datalot.price, datalot.ticket_id)
        "
      >
        เพิ่มไปยังรายการสั่งซื้อ
      </button>
      <ng-template #noTickets> สลากซื้อขายหมดแล้ว </ng-template>
    </ng-container>
    <button
      style="width: 90%; margin-top: 5px; margin-bottom: 10px"
      class="btn btn-danger"
      (click)="closeDialog()"
    >
      ปิด
    </button>
  </div>
</div>
